doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        meta(http-equiv="X-UA-Compatible", content="ie=edge")
        title letsProxy
        include includes/styles.pug
        include includes/code.pug
    body
        .container
            .row
                include includes/menu.pug
            h1 New server 
            form(action="/update/server" method="post")
                label Upstream name:
                input(type="hidden" name="oldUpstreamName" value=upstreamName)
                input(type="text" name="upstreamName" value=upstreamName)
                label 
                    | Address(es)
                    i.material-icons.pointer(onclick="addUpstreamAddress();") add_circle_outline
                .addresses
                    each server, idx in upstreamServers
                        - var port = 1000+Math.floor(Math.random() * 1000);
                        div(id="port-"+port)
                            input(type="text" name="upstreamAddresses[]" placeholder="127.0.0.1" value=server.address)
                            | : 
                            input(type="text" name="upstreamPorts[]" placeholder="3000" value=server.port)
                            if idx > 0
                                i.material-icons.pointer.delete(onclick="removeUpstreamAddress('" + port + "');") remove_circle_outline
                input(type="submit" value="SAVE")
            include includes/footer.pug